<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marketing Tools Suite | Create Professional Marketing Materials</title>
    <meta name="description"
        content="Free marketing tools to create business cards, discount offers, and social media content. Professional designs for all platforms.">

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="favicon.png">

    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Almarai:wght@300;400;700;800&family=Inter:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">

    <!-- Font Awesome -->
    <link href="css/fontawesome/all.min.css" rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Load Konva and dependencies locally for social media tool -->
    <script src="js/konva.min.js?v=2"></script>
    <script>
        console.log('üé≠ Konva loaded check:', typeof Konva !== 'undefined' ? 'SUCCESS' : 'FAILED');
        if (typeof Konva !== 'undefined') {
            console.log('üé≠ Konva version:', Konva.version);
            console.log('üé≠ Konva.Stage available:', typeof Konva.Stage);
            // Make Konva globally accessible
            window.KonvaGlobal = Konva;
        } else {
            console.error('‚ùå Konva failed to load from js/konva.min.js');
        }
    </script>
    <script src="https://unpkg.com/bidi-js@1.0.3/dist/bidi.min.js"></script>
    <script src="https://unpkg.com/opentype.js@1.3.4/dist/opentype.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

    <!-- Custom styles and Almarai font integration -->
    <link rel="stylesheet" href="css/style.css">

    <!-- RTL Support -->
    <style>
        .rtl {
            direction: rtl;
            text-align: right;
        }

        .rtl .space-x-2>*+* {
            margin-left: 0;
            margin-right: 0.5rem;
        }

        .rtl .space-x-4>*+* {
            margin-left: 0;
            margin-right: 1rem;
        }

        .rtl .space-x-8>*+* {
            margin-left: 0;
            margin-right: 2rem;
        }

        .rtl .nav-link i {
            margin-right: 0;
            margin-left: 0.5rem;
        }

        .rtl .text-right {
            text-align: right;
        }

        .rtl .text-left {
            text-align: left;
        }

        .language-toggle {
            font-size: 0.875rem;
            padding: 0.5rem 0.75rem;
        }
    </style>
</head>

<body class="font-almarai bg-gray-50 min-h-screen">
    <!-- Clean Tailwind UI Navigation -->
    <nav class="bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50 font-almarai">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <button onclick="showHome()" class="flex items-center space-x-3 group">
                        <div class="w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center">
                            <i class="fas fa-tools text-white text-sm"></i>
                        </div>
                        <span class="text-xl font-bold text-gray-900" data-i18n="home.title">Marketing Tools</span>
                    </button>
                </div>

                <!-- Desktop Navigation -->
                <div class="hidden md:flex items-center space-x-8">
                    <button onclick="showHome()"
                        class="text-gray-500 hover:text-gray-900 px-3 py-2 text-sm font-medium transition-colors"
                        data-nav="home">
                        <span data-i18n="nav.home">Home</span>
                    </button>
                    <button onclick="showTool('business-card')"
                        class="text-gray-500 hover:text-gray-900 px-3 py-2 text-sm font-medium transition-colors"
                        data-nav="business-card">
                        <span data-i18n="nav.business_cards">Business Cards</span>
                    </button>
                    <button onclick="showTool('discount-offer')"
                        class="text-gray-500 hover:text-gray-900 px-3 py-2 text-sm font-medium transition-colors"
                        data-nav="discount-offer">
                        <span data-i18n="nav.discount_offers">Discount Offers</span>
                    </button>
                    <button onclick="showTool('social-media')"
                        class="text-gray-500 hover:text-gray-900 px-3 py-2 text-sm font-medium transition-colors"
                        data-nav="social-media">
                        <span data-i18n="nav.social_media">Social Media</span>
                    </button>
                    <button onclick="showTool('qr-generator')"
                        class="text-gray-500 hover:text-gray-900 px-3 py-2 text-sm font-medium transition-colors"
                        data-nav="qr-generator">
                        <span data-i18n="nav.qr_generator">QR Codes</span>
                    </button>
                </div>

                <!-- Language Toggle -->
                <div class="flex items-center">
                    <button id="language-toggle"
                        class="bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-md text-sm font-medium transition-colors">
                        <span data-i18n="nav.language">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main>
        <!-- Home Section -->
        <section id="home-section" class="bg-white">
            <!-- Hero Section -->
            <div class="text-center py-16 px-4">
                <h1 class="text-4xl sm:text-5xl font-bold text-gray-900 mb-6" data-i18n="home.title">
                    Marketing Tools Suite
                </h1>
                <p class="text-lg text-gray-600 max-w-3xl mx-auto mb-12" data-i18n="home.subtitle">
                    Create professional marketing materials with our free and easy-to-use tools. Design business cards,
                    discount offers, and social media content in minutes.
                </p>
            </div>

            <!-- Tools Grid -->
            <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 pb-20">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <!-- Business Card Tool -->
                    <div class="bg-white border rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 p-6 cursor-pointer group"
                        onclick="showTool('business-card')" data-tool-card="business_card">
                        <div class="text-center">
                            <div
                                class="w-16 h-16 bg-indigo-600 rounded-xl flex items-center justify-center mx-auto mb-4">
                                <i class="fas fa-id-card text-white text-2xl"></i>
                            </div>
                            <h3 class="text-lg font-semibold text-gray-900 mb-2" data-i18n="business_card.title">
                                Business Card Designer</h3>
                            <p class="text-sm text-gray-500 mb-6" data-i18n="business_card.description">Create
                                professional bilingual business cards with custom logos, colors, and contact information
                            </p>

                            <div class="space-y-2 mb-6">
                                <div class="flex items-center text-xs text-gray-600">
                                    <div class="w-2 h-2 bg-green-500 rounded-full mr-2"></div>
                                    <span data-i18n="business_card.features.bilingual">Arabic & English Support</span>
                                </div>
                                <div class="flex items-center text-xs text-gray-600">
                                    <div class="w-2 h-2 bg-green-500 rounded-full mr-2"></div>
                                    <span data-i18n="business_card.features.logo">Custom Logo Upload</span>
                                </div>
                                <div class="flex items-center text-xs text-gray-600">
                                    <div class="w-2 h-2 bg-green-500 rounded-full mr-2"></div>
                                    <span data-i18n="business_card.features.qr">QR Code Integration</span>
                                </div>
                                <div class="flex items-center text-xs text-gray-600">
                                    <div class="w-2 h-2 bg-green-500 rounded-full mr-2"></div>
                                    <span data-i18n="business_card.features.export">Print-Ready Export</span>
                                </div>
                            </div>

                            <button
                                class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition-colors min-h-[44px] flex items-center justify-center"
                                data-i18n="business_card.button">
                                Start Designing
                            </button>
                        </div>
                    </div>

                    <!-- Discount Offer Tool -->
                    <div class="bg-white border rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 p-6 cursor-pointer group"
                        onclick="showTool('discount-offer')" data-tool-card="discount_offer">
                        <div class="text-center">
                            <div class="w-16 h-16 bg-red-600 rounded-xl flex items-center justify-center mx-auto mb-4">
                                <i class="fas fa-tags text-white text-2xl"></i>
                            </div>
                            <h3 class="text-lg font-semibold text-gray-900 mb-2" data-i18n="discount_offer.title">
                                Discount Offer Creator</h3>
                            <p class="text-sm text-gray-500 mb-6" data-i18n="discount_offer.description">Design
                                attractive discount flyers and promotional materials for your business</p>

                            <div class="space-y-2 mb-6">
                                <div class="flex items-center text-xs text-gray-600">
                                    <div class="w-2 h-2 bg-green-500 rounded-full mr-2"></div>
                                    <span data-i18n="discount_offer.features.editor">Drag & Drop Editor</span>
                                </div>
                                <div class="flex items-center text-xs text-gray-600">
                                    <div class="w-2 h-2 bg-green-500 rounded-full mr-2"></div>
                                    <span data-i18n="discount_offer.features.categories">Multiple Categories</span>
                                </div>
                                <div class="flex items-center text-xs text-gray-600">
                                    <div class="w-2 h-2 bg-green-500 rounded-full mr-2"></div>
                                    <span data-i18n="discount_offer.features.custom">Custom Colors & Images</span>
                                </div>
                                <div class="flex items-center text-xs text-gray-600">
                                    <div class="w-2 h-2 bg-green-500 rounded-full mr-2"></div>
                                    <span data-i18n="discount_offer.features.export">High Quality Export</span>
                                </div>
                            </div>

                            <button
                                class="w-full bg-red-600 hover:bg-red-700 text-white font-medium py-3 px-4 rounded-lg transition-colors min-h-[44px] flex items-center justify-center"
                                data-i18n="discount_offer.button">
                                Create Offers
                            </button>
                        </div>
                    </div>

                    <!-- Social Media Tool -->
                    <div class="bg-white rounded-xl border shadow-lg hover:shadow-xl transition-all duration-300 p-6 cursor-pointer group"
                        onclick="showTool('social-media')" data-tool-card="social_media">
                        <div class="text-center">
                            <div
                                class="w-16 h-16 bg-green-600 rounded-xl flex items-center justify-center mx-auto mb-4">
                                <i class="fas fa-share-nodes text-white text-2xl"></i>
                            </div>
                            <h3 class="text-lg font-semibold text-gray-900 mb-2" data-i18n="social_media.title">Social
                                Media Designer</h3>
                            <p class="text-sm text-gray-500 mb-6" data-i18n="social_media.description">Create perfectly
                                sized content for Instagram, TikTok, Facebook, and other platforms</p>

                            <div class="space-y-2 mb-6">
                                <div class="flex items-center text-xs text-gray-600">
                                    <div class="w-2 h-2 bg-green-500 rounded-full mr-2"></div>
                                    <span data-i18n="social_media.features.platforms">Multi-Platform Support</span>
                                </div>
                                <div class="flex items-center text-xs text-gray-600">
                                    <div class="w-2 h-2 bg-green-500 rounded-full mr-2"></div>
                                    <span data-i18n="social_media.features.dimensions">Perfect Dimensions</span>
                                </div>
                                <div class="flex items-center text-xs text-gray-600">
                                    <div class="w-2 h-2 bg-green-500 rounded-full mr-2"></div>
                                    <span data-i18n="social_media.features.elements">Drag & Drop Elements</span>
                                </div>
                                <div class="flex items-center text-xs text-gray-600">
                                    <div class="w-2 h-2 bg-green-500 rounded-full mr-2"></div>
                                    <span data-i18n="social_media.features.export">Export for All Platforms</span>
                                </div>
                            </div>

                            <button
                                class="w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition-colors min-h-[44px] flex items-center justify-center"
                                data-i18n="social_media.button">
                                Design Content
                            </button>
                        </div>
                    </div>

                    <!-- QR Code Generator Tool -->
                    <div class="bg-white rounded-xl border shadow-lg hover:shadow-xl transition-all duration-300 p-6 cursor-pointer group"
                        onclick="showTool('qr-generator')" data-tool-card="qr_generator">
                        <div class="text-center">
                            <div
                                class="w-16 h-16 bg-purple-600 rounded-xl flex items-center justify-center mx-auto mb-4">
                                <i class="fas fa-qrcode text-white text-2xl"></i>
                            </div>
                            <h3 class="text-lg font-semibold text-gray-900 mb-2" data-i18n="qr_generator.title">QR Code
                                Generator</h3>
                            <p class="text-sm text-gray-500 mb-6" data-i18n="qr_generator.description">Create branded QR
                                codes for promotions, coupons, and WhatsApp contact</p>

                            <div class="space-y-2 mb-6">
                                <div class="flex items-center text-xs text-gray-600">
                                    <div class="w-2 h-2 bg-green-500 rounded-full mr-2"></div>
                                    <span data-i18n="qr_generator.features.whatsapp">WhatsApp Direct Link</span>
                                </div>
                                <div class="flex items-center text-xs text-gray-600">
                                    <div class="w-2 h-2 bg-green-500 rounded-full mr-2"></div>
                                    <span data-i18n="qr_generator.features.custom_url">Custom URLs & Links</span>
                                </div>
                                <div class="flex items-center text-xs text-gray-600">
                                    <div class="w-2 h-2 bg-green-500 rounded-full mr-2"></div>
                                    <span data-i18n="qr_generator.features.branding">Branded QR Design</span>
                                </div>
                                <div class="flex items-center text-xs text-gray-600">
                                    <div class="w-2 h-2 bg-green-500 rounded-full mr-2"></div>
                                    <span data-i18n="qr_generator.features.export">PNG Image Export</span>
                                </div>
                            </div>

                            <button
                                class="w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-4 rounded-lg transition-colors min-h-[44px] flex items-center justify-center"
                                data-i18n="qr_generator.button">
                                Generate QR Codes
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Tool Sections with Modern Tailwind UI -->
        <section id="business-card-section" class="tool-section max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 hidden">
            <div class="tool-content">
                <div class="my-6">
                    <div class="mb-4 p-6 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl text-white">
                        <h1 class="text-3xl font-bold mb-2" data-i18n="business_card.title">Business Card Designer</h1>
                        <p class="text-blue-100" data-i18n="business_card.subtitle">Create professional business cards
                            with bilingual support</p>
                    </div>
                </div>
                <div class="tool-container" id="business-card-content">
                    <!-- Business card tool will be loaded here -->
                </div>
            </div>
        </section>

        <section id="discount-offer-section" class="tool-section max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 hidden">
            <div class="tool-content">
                <div class="my-6">
                    <div class="mb-4 p-6 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl text-white">
                        <h1 class="text-3xl font-bold mb-2" data-i18n="discount_offer.title">Discount Offer Creator</h1>
                        <p class="text-blue-100" data-i18n="discount_offer.subtitle">Design attractive promotional
                            materials and discount flyers</p>
                    </div>
                </div>
                <div class="tool-container" id="discount-offer-content">
                    <!-- Discount offer tool will be loaded here -->
                </div>
            </div>
        </section>

        <section id="social-media-section" class="tool-section max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 hidden">
            <div class="tool-content">
                <div class="my-6">
                    <div class="mb-4 p-6 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl text-white">
                        <h1 class="text-3xl font-bold mb-2" data-i18n="social_media.title">Social Media Designer</h1>
                        <p class="text-blue-100" data-i18n="social_media.subtitle">Create content for Instagram, TikTok,
                            Facebook, and more</p>
                    </div>
                </div>
                <div class="tool-container" id="social-media-content">
                    <!-- Social media tool will be loaded here -->
                </div>
            </div>
        </section>

        <section id="qr-generator-section" class="tool-section max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 hidden">
            <div class="tool-content">
                <div class="my-6">
                    <div class="mb-4 p-6 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl text-white">
                        <h1 class="text-3xl font-bold mb-2" data-i18n="qr_generator.title">QR Code Generator</h1>
                        <p class="text-blue-100" data-i18n="qr_generator.subtitle">Create branded QR codes for your
                            business</p>
                    </div>
                </div>
                <div class="tool-container" id="qr-generator-content">
                    <!-- QR generator tool will be loaded here -->
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12" id="main-footer">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <div class="flex justify-center space-x-8 mb-6">
                    <a href="https://github.com/Engagendy" target="_blank" rel="noopener noreferrer"
                        class="text-gray-300 hover:text-white transition-colors" title="GitHub">
                        <i class="fab fa-github text-xl"></i>
                    </a>
                    <a href="mailto:engagendy@gmail.com" class="text-gray-300 hover:text-white transition-colors"
                        title="Email">
                        <i class="fas fa-envelope text-xl"></i>
                    </a>
                </div>
                <p class="text-gray-400">Made with ‚ù§Ô∏è for the community</p>
            </div>
        </div>
    </footer>

    <!-- Loading Spinner -->
    <div id="loading-overlay" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg p-8 flex items-center space-x-4">
            <div class="animate-spin rounded-full h-8 w-8 border-4 border-primary-500 border-t-transparent"></div>
            <span class="text-gray-700 font-medium">Loading tool...</span>
        </div>
    </div>



    <!-- JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="js/notifications.js"></script>
    <script src="js/template-engine.js"></script>
    <script src="js/i18n.js"></script>
    <script src="js/components.js"></script>
    <script src="js/app.js"></script>
    <script src="js/debug.js"></script>

    <!-- Tool Helper Functions -->
    <script>
        // Global helper functions to prevent "undefined" errors from tools
        window.resetPositions = function () {
            console.log('Reset positions called');
            // This will be overridden by individual tools
        };

        window.addService = function () {
            console.log('Add service called');
            // This will be overridden by individual tools  
        };

        window.selectPlatform = function (platform) {
            console.log('Select platform called:', platform);
            // This will be overridden by individual tools
        };

        window.updatePreview = function () {
            console.log('Update preview called');
            // This will be overridden by individual tools
        };

        // Initialize i18n with template engine when both are ready
        document.addEventListener('DOMContentLoaded', function () {
            console.log('üöÄ DOM Content Loaded');

            if (window.i18n && window.templateEngine) {
                window.i18n.addToTemplateEngine(window.templateEngine);
                console.log('‚úÖ i18n added to template engine');
            }

            // Force i18n initialization
            setTimeout(() => {
                if (window.i18n) {
                    console.log('üåê Force initializing i18n...');
                    window.i18n.updatePageText();
                }
            }, 500);
        });

        // Add debug functions (outside DOMContentLoaded to make them immediately available)
        window.debugI18n = {
            test: () => {
                console.log('=== i18n Debug Info ===');
                console.log('Current language:', window.i18n?.currentLanguage);
                console.log('Available translations:', Object.keys(window.i18n?.translations || {}));
                console.log('Full translations object:', window.i18n?.translations);
                console.log('Test translation:', window.i18n?.t('nav.home'));
                console.log('Elements with data-i18n:', document.querySelectorAll('[data-i18n]').length);
            },
            updateNow: () => {
                if (window.i18n) {
                    console.log('üîÑ Manually updating translations...');
                    window.i18n.updatePageText();
                }
            },
            setEnglish: () => {
                if (window.i18n) {
                    window.i18n.setLanguage('en');
                }
            },
            setArabic: () => {
                if (window.i18n) {
                    window.i18n.setLanguage('ar');
                }
            }
        };

        // Add manual override for testing
        window.debugForceHideLoading = function () {
            const loading = document.getElementById('loading-overlay');
            if (loading) {
                loading.classList.add('hidden');
                loading.style.display = 'none'; // Force hide with inline style
                console.log('‚úÖ Loading manually hidden');
            }
            if (window.app) {
                window.app.isLoading = false;
            }
        };

        // Add click handler to loading overlay to hide it manually
        document.addEventListener('DOMContentLoaded', function () {
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.addEventListener('click', function () {
                    console.log('üñ±Ô∏è Loading overlay clicked - hiding it');
                    window.debugForceHideLoading();
                });
            }
        });

        // Add manual tool loading test
        window.debugTestTool = async function () {
            try {
                console.log('Testing manual tool loading...');
                if (window.app) {
                    window.app.isLoading = false; // Reset loading state
                    await window.app.showTool('business-card');
                }
            } catch (error) {
                console.error('Manual test failed:', error);
            }
        };
    </script>
</body>

</html>